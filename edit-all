javascript:(()=>{const SEL=['input.paragraphs-icon-button-edit','button.paragraphs-icon-button-edit','input[data-drupal-selector*="field-article-lp-components-"][data-drupal-selector*="-edit"]','button[data-drupal-selector*="field-article-lp-components-"][data-drupal-selector*="-edit"]','input[id*="field-article-lp-components-"][id*="-edit"]','button[id*="field-article-lp-components-"][id*="-edit"]','input[data-drupal-selector^="edit-field-article-lp-components-"][data-drupal-selector$="-top-links-edit-button"]','input[id^="edit-field-article-lp-components-"][id$="-top-links-edit-button"]'].join(',');const RX=[/field-article-lp-components-(\d+)-(?:top-links-edit-button|edit)(?:-\d+)?$/,/edit-field-article-lp-components-(\d+)-(?:top-links-edit-button|edit)(?:-\d+)?$/];const TIMEOUT_MS=15000;const Q=()=>[...document.querySelectorAll(SEL)].filter(e=>e.offsetParent&&!e.disabled);const idxOf=e=>{const s=e.getAttribute(%27data-drupal-selector%27)||e.id||e.name||%27%27;for(const r of RX){const m=s.match(r);if(m)return parseInt(m[1],10)}return null};const list=()=>Q().map(el=>({el,idx:idxOf(el)})).filter(x=>Number.isInteger(x.idx)).sort((a,b)=>a.idx-b.idx);const fire=el=>{try{el.scrollIntoView({behavior:%27smooth%27,block:%27center%27})}catch{}el.dispatchEvent(new MouseEvent(%27mousedown%27,{bubbles:!0,cancelable:!0,view:window}));setTimeout(()=>{el.click&&el.click()},80)};const wait=(target,prevCount)=>new Promise(res=>{let done=!1,tmo;const finish=()=>{if(done)return;done=!0;clearTimeout(tmo);try{mo.disconnect()}catch{};if(hasJQ){jQuery(document).off(%27ajaxSend%27,onSend);jQuery(document).off(%27ajaxComplete%27,onComp)}setTimeout(res,120)};const wrap=document.getElementById(%27field-article-lp-components-add-more-wrapper%27)||document.querySelector(%27[id$="field-article-lp-components-add-more-wrapper"]%27)||document.body;const mo=new MutationObserver(()=>{const now=list().length;if(!document.contains(target)||now!==prevCount)finish()});mo.observe(wrap,{childList:!0,subtree:!0});const hasJQ=!!(window.jQuery&&jQuery(document).ajaxComplete);let seen=!1;const onSend=()=>{seen=!0};const onComp=()=>{if(seen&&(!window.jQuery||jQuery.active===0))finish()};if(hasJQ){jQuery(document).on(%27ajaxSend%27,onSend);jQuery(document).on(%27ajaxComplete%27,onComp)}tmo=setTimeout(finish,TIMEOUT_MS)});(async()=>{const done=new Set;for(;;){const items=list();if(!items.length){alert(%27Nenhum botão de editar encontrado.%27);break}const next=items.find(x=>!done.has(x.idx));if(!next){console.log(%27[edit-all] terminado%27,Array.from(done).sort((a,b)=>a-b));break}const before=items.length;console.log(%27[edit-all] N=%27,next.idx,%27/%27,before,%27→%27,next.el.id||next.el.name);fire(next.el);await wait(next.el,before);done.add(next.idx)}})();})();
